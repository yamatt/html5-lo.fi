{"version":3,"sources":["webpack:///./src/js/index.js"],"names":["document","getElementById","fetch","then","response","ok","Error","status","json","backgrounds","background","Math","floor","random","length","setAttribute","playbackRate","catch","error","console","log","message"],"mappings":"AAAmBA,SAASC,eAAe,oBAC3BD,SAASC,eAAe,UAKxCC,MAHwB,oBAIrBC,MAAK,SAASC,GACb,IAAKA,EAASC,GACd,MAAM,IAAIC,MAAM,wBAA0BF,EAASG,QAEnD,OAAOH,EAASI,UAEjBL,MAAK,SAASM,GACb,IAAIC,EAAaD,EAAYE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAYK,SACpEJ,EAAWK,aAAa,MAAOL,EAAgB,KAC/CA,EAAWM,aAAe,MAE3BC,OAAM,SAASC,GACdC,QAAQC,IAAIF,EAAMG","file":"main.js","sourcesContent":["const background = document.getElementById(\"background-video\");\nconst player  = document.getElementById(\"player\");\n\nconst backgrounds_url = \"backgrounds.json\";\nconst streams_url = \"streams.json\";\n\nfetch(backgrounds_url)\n  .then(function(response) {\n    if (!response.ok) {\n    throw new Error(\"HTTP error, status = \" + response.status);\n    }\n    return response.json();\n  })\n  .then(function(backgrounds) {\n    var background = backgrounds[Math.floor(Math.random() * backgrounds.length)];\n    background.setAttribute(\"src\", background['url']);\n    background.playbackRate = 0.5;\n  })\n  .catch(function(error) {\n    console.log(error.message);\n  });\n\n/*fetch(streams_url)\n  .then(function(response) {\n    if (!response.ok) {\n      throw new Error(\"HTTP error, status = \" + response.status);\n    }\n    return response.json();\n  })\n  .then(function(streams) {\n    var stream = streams[Math.floor(Math.random() * streams.length)];\n    const stream_url = new URL(stream['url']);\n    switch(stream_url.hostname) {\n      case \"www.youtube.com\":\n        while (player.lastChild) {\n          player.removeChild(player.lastChild);\n        }\n        var yt_iframe = document.createElement(\"iframe\");\n        yt_iframe.setAttribute(\"allow\", \"autoplay; encrypted-media;\");\n        yt_iframe.setAttribute(\"src\", stream['url']);\n        player.appendChild(yt_iframe);\n        break;\n      default:\n        throw new Error(\"No stream processor found\");\n    }\n  })\n  .catch(function(error) {\n    console.log(error.message);\n  });\n*/\n"],"sourceRoot":""}