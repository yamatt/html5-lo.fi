(()=>{const e=document.getElementById("background-video"),t=document.getElementById("player");fetch("backgrounds.json").then((function(e){if(!e.ok)throw new Error("HTTP error, status = "+e.status);return e.json()})).then((function(t){var o=t[Math.floor(Math.random()*t.length)];e.setAttribute("src",o.url),e.playbackRate=.5})).catch((function(e){console.log(e.message)})),fetch("streams.json").then((function(e){if(!e.ok)throw new Error("HTTP error, status = "+e.status);return e.json()})).then((function(e){var o=e[Math.floor(Math.random()*e.length)];switch(new URL(o.url).hostname){case"www.youtube.com":for(;t.lastChild;)t.removeChild(t.lastChild);var n=document.createElement("iframe");n.setAttribute("allow","autoplay; encrypted-media;"),n.setAttribute("src",o.url+"?autoplay=1&enablejsapi=1"),t.appendChild(n);break;default:throw new Error("No stream processor found")}})).catch((function(e){console.log(e.message)})),document.onkeypress=function(e){"Space"==(e=e||window.event).code&&t.childNodes[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}})();
//# sourceMappingURL=main.js.map