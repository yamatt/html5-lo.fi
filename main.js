(()=>{const t=document.getElementById("background-video"),e=document.getElementById("player");fetch("backgrounds.json").then((function(t){if(!t.ok)throw new Error("HTTP error, status = "+t.status);return t.json()})).then((function(e){var o=e[Math.floor(Math.random()*e.length)];t.setAttribute("src",o.url),t.playbackRate=.5})).catch((function(t){console.log(t.message)})),fetch("streams.json").then((function(t){if(!t.ok)throw new Error("HTTP error, status = "+t.status);return t.json()})).then((function(t){var o=t[Math.floor(Math.random()*t.length)];switch(new URL(o.url).hostname){case"www.youtube.com":for(;e.lastChild;)e.removeChild(e.lastChild);var r=document.createElement("iframe");r.setAttribute("allow","autoplay; encrypted-media;"),r.setAttribute("src",o.url+"?autoplay=1"),e.appendChild(r);break;default:throw new Error("No stream processor found")}})).catch((function(t){console.log(t.message)}))})();
//# sourceMappingURL=main.js.map